<?xml version="1.0" encoding="UTF-8"?>
<definitions  xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.jeecg.org">
    <process  id="bustrip" name="出差流程">
        <documentation>出差申请流程</documentation>
        <startEvent  id="start" name="Start" activiti:initiator="applyUserId">
        </startEvent>
        <endEvent  id="end" name="End">
        </endEvent>
        <userTask  id="deptLeaderapp" name="部门领导审批" activiti:candidateGroups="deptLeader" >
            <documentation>部门领导审批</documentation>
        </userTask>
        <userTask  id="managerapp" name="总经理审批" activiti:candidateGroups="manager" >
            <documentation>总经理审批</documentation>
        </userTask>
        <userTask  id="admdept" name="备案归档" activiti:candidateGroups="fileclerk" >
            <documentation>备案归档</documentation>
        </userTask>
        <userTask  id="modifyApply" name="重新申请" activiti:assignee="${applyUserId}" >
        </userTask>
        <userTask  id="bormoneyapply" name="借款申请" activiti:assignee="${applyUserId}" >
        </userTask>
        <callActivity  id="callSubProcess1358932163689" name="callSubProcess1358932163689" calledElement="bormoney" >
            <extensionElements>
                <activiti:in source="sub_id" target="id"/>
                <activiti:in source="applyUserId" target="applyUserId"/>
                <activiti:in source="JG_LOCAL_PROCESS_ID" target="JG_SUB_MAIN_PROCESS_ID"/>
                <activiti:out source="applyUserId" target="applyUserId"/>
            </extensionElements>
        </callActivity>
        <sequenceFlow  id="flow1358931037253" name="" sourceRef="start" targetRef="deptLeaderapp">
        </sequenceFlow>
        <sequenceFlow  id="flow1358931638405" name="重新申请" sourceRef="modifyApply" targetRef="deptLeaderapp">
            <conditionExpression  xsi:type="tFormalExpression">
                <![CDATA[${modify}]]>
            </conditionExpression>
        </sequenceFlow>
        <sequenceFlow  id="flow1358932218774" name="同意" sourceRef="managerapp" targetRef="admdept">
        </sequenceFlow>
        <sequenceFlow  id="flow1358932226845" name="结束流程" sourceRef="modifyApply" targetRef="end">
            <conditionExpression  xsi:type="tFormalExpression">
                <![CDATA[${!modify}]]>
            </conditionExpression>
        </sequenceFlow>
        <sequenceFlow  id="flow1358932233110" name="不同意" sourceRef="managerapp" targetRef="modifyApply">
        </sequenceFlow>
        <sequenceFlow  id="flow1358932247606" name="归档" sourceRef="admdept" targetRef="end">
        </sequenceFlow>
        <sequenceFlow  id="flow1359454842510" name="" sourceRef="callSubProcess1358932163689" targetRef="admdept">
        </sequenceFlow>
        <sequenceFlow  id="flow1359463771064" name="借款" sourceRef="managerapp" targetRef="bormoneyapply">
        </sequenceFlow>
        <sequenceFlow  id="flow1359463783840" name="" sourceRef="bormoneyapply" targetRef="callSubProcess1358932163689">
        </sequenceFlow>
        <sequenceFlow  id="flow1409835509619" name="同意" sourceRef="deptLeaderapp" targetRef="managerapp">
        </sequenceFlow>
        <sequenceFlow  id="flow1409835512434" name="不同意" sourceRef="deptLeaderapp" targetRef="modifyApply">
        </sequenceFlow>
    </process>
    <bpmndi:BPMNDiagram id="BPMNDiagram_bustrip">
        <bpmndi:BPMNPlane bpmnElement="bustrip" id="BPMNPlane_bustrip">
            <bpmndi:BPMNShape bpmnElement="start" id="BPMNShape_start">
                <omgdc:Bounds height="30" width="30" x="17" y="158"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="end" id="BPMNShape_end">
                <omgdc:Bounds height="30" width="30" x="769" y="158"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="deptLeaderapp" id="BPMNShape_deptLeaderapp">
                <omgdc:Bounds height="50" width="90" x="105" y="148"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="managerapp" id="BPMNShape_managerapp">
                <omgdc:Bounds height="50" width="90" x="368" y="148"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="admdept" id="BPMNShape_admdept">
                <omgdc:Bounds height="50" width="90" x="576" y="148"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="modifyApply" id="BPMNShape_modifyApply">
                <omgdc:Bounds height="50" width="90" x="231" y="310"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="bormoneyapply" id="BPMNShape_bormoneyapply">
                <omgdc:Bounds height="50" width="90" x="472" y="20"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape bpmnElement="callSubProcess1358932163689" id="BPMNShape_callSubProcess1358932163689">
                <omgdc:Bounds height="30" width="30" x="606" y="71"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge bpmnElement="flow1358931037253" id="BPMNEdge_flow1358931037253">
                <omgdi:waypoint x="47" y="173" />
                <omgdi:waypoint x="100" y="173" />
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="flow1358931638405" id="BPMNEdge_flow1358931638405">
                <omgdi:waypoint x="226" y="335" />
                <omgdi:waypoint x="150" y="335" />
                <omgdi:waypoint x="150" y="203" />
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="flow1358932218774" id="BPMNEdge_flow1358932218774">
                <omgdi:waypoint x="463" y="173" />
                <omgdi:waypoint x="571" y="173" />
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="flow1358932226845" id="BPMNEdge_flow1358932226845">
                <omgdi:waypoint x="276" y="365" />
                <omgdi:waypoint x="276" y="385" />
                <omgdi:waypoint x="784" y="385" />
                <omgdi:waypoint x="784" y="188" />
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="flow1358932233110" id="BPMNEdge_flow1358932233110">
                <omgdi:waypoint x="413" y="203" />
                <omgdi:waypoint x="413" y="335" />
                <omgdi:waypoint x="326" y="335" />
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="flow1358932247606" id="BPMNEdge_flow1358932247606">
                <omgdi:waypoint x="671" y="173" />
                <omgdi:waypoint x="769" y="173" />
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="flow1359454842510" id="BPMNEdge_flow1359454842510">
                <omgdi:waypoint x="621" y="101" />
                <omgdi:waypoint x="621" y="143" />
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="flow1359463771064" id="BPMNEdge_flow1359463771064">
                <omgdi:waypoint x="413" y="143" />
                <omgdi:waypoint x="413" y="45" />
                <omgdi:waypoint x="467" y="45" />
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="flow1359463783840" id="BPMNEdge_flow1359463783840">
                <omgdi:waypoint x="567" y="45" />
                <omgdi:waypoint x="621" y="45" />
                <omgdi:waypoint x="621" y="71" />
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="flow1409835509619" id="BPMNEdge_flow1409835509619">
                <omgdi:waypoint x="200" y="173" />
                <omgdi:waypoint x="363" y="173" />
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge bpmnElement="flow1409835512434" id="BPMNEdge_flow1409835512434">
                <omgdi:waypoint x="200" y="173" />
                <omgdi:waypoint x="276" y="173" />
                <omgdi:waypoint x="276" y="305" />
            </bpmndi:BPMNEdge>
        </bpmndi:BPMNPlane>
    </bpmndi:BPMNDiagram>
</definitions>